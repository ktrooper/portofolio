import React, { useEffect, useRef, useState } from 'react';
import Head from 'next/head'
import Image from 'next/image'
import Link from 'next/link'
import styles from '/styles/Home.module.css'

export default function Home() {

  const elementsRef = useRef([]);

  useEffect(() => {

    const handleScroll = () => {
      elementsRef.current.forEach((element) => {
        if(element) {
          const {top} = element.getBoundingClientRect();
          const isVisible = top < window.innerHeight - 50;
          if(isVisible) {
            element.classList.add(styles.fadeInVisible);
            
          }else {
            element.classList.remove(styles.fadeInVisible);
          }
       
        }
      })
    }

    window.addEventListener('scroll', handleScroll)
  }, []);
const  [scrollPosition,setScrollPosition] = useState(0);
 function handleClick(id) {
    const element = document.getElementById(id);
    const position = element.offsetTop - 70;
    setScrollPosition(position);
    window.scrollTo({
      top: position,
      behavior: 'smooth'
    });
  }

  return (
    <>
      <Head>
        <title>portfolio of kayakenko</title>
        <meta name="description" content="Generated by KK " />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
      <main className={styles.main}>
        <div className={styles.mainvisual} id='IMG'>
          <Image className={styles.imagen} src='/ab.png' alt="pick" loading="lazy" position="relative" width="2000" height="2000" ></Image>
        </div>

        <div className={styles.center}>


          <a className={styles.card1}>
            <h2 ref={(ref) => elementsRef.current[0] = ref} className={styles.fadeIn} id="skills"><span className={styles.englishText}>Skills</span></h2>
            <div ref={(ref) => elementsRef.current[1] = ref} className={`${styles.cards} ${styles.fadeIn}`}>


              <span className={styles.englishText}> #HTML<br />
                #CSS<br />
                #Javascript<br />
                #React<br />
                #TOEIC</span> 725/990点<br />
              <br />
              <span className={styles.englishText}>DeepL</span>等の翻訳ソフトを使いながらではありますが、<br />
              公式ドキュメントを参考に調べながら開発を行うことができます。
            </div>


          </a>

          <a className={styles.card2}>
            <h2 ref={(ref) => elementsRef.current[2] = ref} className={styles.fadeIn} id="background"><span className={styles.englishText}>Background</span></h2>
            <div ref={(ref) => elementsRef.current[3] = ref} className={`${styles.cards} ${styles.fadeIn}`}>
              ・学歴<br /><br />
              2018年3月：慶應義塾大学志木高校卒業<br />
              2023年3月：慶應義塾大学商学部卒業<br /><br />
              ・職歴<br /><br />
              2018年12月~現在：株式会社日本入試センター<br />
              <span className={styles.englishText}>SAPIXPrivato</span>にて非常勤務講師を担当。<br />
              2022年3月~2023年3月：株式会社 <span className={styles.englishText}>DONUTS</span><br />
              ミクチャ事業部にて音響業務を担当。<br /><br />
              <p className={styles.red}>現在求職中</p>
              <br /><br />



            </div>
          </a>


        </div>
        <aside className={styles.sideMenu}>
          <h2 className={styles.sideMenuTitle}></h2>
          <ul className={styles.sideMenuList}>


            <li><a onClick={() => handleClick("skills")}>Skills</a></li>
            <li><a onClick={() => handleClick("background")}>Background</a></li>
            <li><a onClick={() => handleClick("IMG")}>Go back</a></li>
          </ul>
        </aside>
        <footer className={styles.footer}>
          <p className={styles.footerd}>Contact DM</p>
          <Link href="https://twitter.com/kaya_awkmiu"><Image className={styles.footern} src='/logo3.png' alt="pick" loading="lazy" position="relative" width="100" height="100"
          ></Image></Link>

        </footer>
      </main>

    </>
  )
}